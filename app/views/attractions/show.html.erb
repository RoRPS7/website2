<!DOCTYPE html>
<html>

<%= stylesheet_link_tag "app", "attractions"%>

<p id="notice"><%= notice %></p>

  <h1 class="header"><%= @attraction.name %></h1>

<body>
<!-- TODO: tutaj pod headerem zdjecia-->
  <p><%= @attraction.description %></p>

  <p>
    <% if @attraction.price > 0%>
      <strong>Opłata:</strong>
      <%= @attraction.price %>
    <%else %>
      <strong>Wstęp bezpłatny!</strong>
    <%end %>

  </p>
  <p>
    <strong>Czas zwiedzania:</strong>
    <%= @attraction.sightseeing_time %>
  </p>

  <p>
    <strong>Kategorie:</strong>
    <ul>
      <% if @attraction.categories %>

        <% @attraction.categories.each do |category| %>
          <li><%= category.name %></li>
        <%end %>
        <% else %>
       <strong>Nie przypisano kategorii dla tego obiektu</strong>
      <% end %>
    </ul>

  </p>
<!--  <div style='width: 50%;'>-->
    <div id="map"></div>
<!--  </div>-->
<br>

<!--  pewnie usunac przyciski, bo jest panel admin-->
  <%#if current_user && current_user.admin%>
<!--    <%#= link_to 'Edytuj', edit_attraction_path(@attraction) %> |-->
  <%#end%>

  <%#= link_to 'Powrót', attractions_path %>

</body>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA7vOoTEHKZlV89hsFiNdshzf74UMM_dnk&callback=initMap&libraries=&v=weekly"
  async></script>

<script type="text/javascript">
    function initMap() {
        // The location of Uluru
        const uluru = { lat: <%= @attraction.x %>, lng: <%= @attraction.y %> };
        // The map, centered at Uluru
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 16,
            center: uluru,
        });
        // The marker, positioned at Uluru
        const marker = new google.maps.Marker({
            position: uluru,
            map: map,
        });
    }
</script>


</html>